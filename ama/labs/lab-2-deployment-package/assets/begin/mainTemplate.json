{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
	  "adminUsername": {
	  "type": "string",
	  "metadata": {
	    "description": "Username for the Virtual Machine."
	  }
	},
	"adminPassword": {
	  "type": "securestring",
	  "metadata": {
	    "description": "Password for the Virtual Machine."
	  }
	},
	"storageAccountName": {
	  "type": "string"
	},
	"storageAccountType": {
	  "type": "string"
	},
	"windowsOSVersion": {
	  "type": "string",
	  "defaultValue": "2019-datacenter-gensecond",
	  "allowedValues": [
	    "2019-datacenter-gensecond",
	    "2016-datacenter-gensecond"
	  ],
	  "metadata": {
	    "description": "The Windows version for the VM. This will pick a fully patched image of this given Windows version."
	  }
	},
	"vmSize": {
	  "type": "string",
	  "defaultValue": "Standard_D2s_V3",
	  "metadata": {
	    "description": "Size of the virtual machine."
	  }
	},
	"vmName": {
	  "type": "string",
	  "defaultValue": "amaSimpleVM",
	  "metadata": {
	    "description": "Name of the virtual machine."
	  }
	},
	"location": {
	  "type": "string",
	  "defaultValue": "[resourceGroup().location]",
	  "metadata": {
	    "description": "Location for all resources."
	  }
	}
  },
  "variables": {
	  "itemPrefix": "[concat('ama', uniqueString(resourceGroup().id))]",
	  "addressPrefix": "10.0.0.0/16",
	  "domainNameLabel": "[concat(variables('itemPrefix'), '-dnl')]",
	  "networkSecurityGroupName": "[concat(variables('itemPrefix'), '-nsg')]",
	  "nicName": "[concat(variables('itemPrefix'), '-nic')]",
	  "publicIPAddressName": "[concat(variables('itemPrefix'), '-ip')]",
	  "storageAccountName": "[concat(parameters('storageAccountName'), uniqueString('storage'))]",
	  "subnetName": "Subnet",
	  "subnetPrefix": "10.0.0.0/24",
	  "subnetRef": "[resourceId('Microsoft.Network/virtualNetworks/subnets', variables('virtualNetworkName'), variables('subnetName'))]",
	  "virtualNetworkName": "[concat(variables('itemPrefix'), '-vnet')]"
	},
  "resources": [],
  "outputs": {}
}